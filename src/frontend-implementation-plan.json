{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix admin registration bootstrapping logic - Frontend changes",
  "requirements": [
    {
      "id": "REQ-172",
      "summary": "Update AdminRegistration component to invalidate user role query after successful first admin registration, display success message, and auto-navigate to Admin Dashboard",
      "acceptanceCriteria": [
        "User role query is invalidated and refetched after successful registration",
        "Success message clearly indicates first admin registration succeeded",
        "User is automatically redirected to Admin Dashboard after 2 seconds",
        "UI updates immediately to reflect new admin status without manual page refresh"
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/AdminRegistration.tsx",
          "operation": "modify",
          "description": "Update the success handler in the AdminRegistration component to: (1) use queryClient.invalidateQueries() to refetch the 'callerUserRole' query immediately after successful registration, (2) display a prominent success message that explicitly confirms 'You are now registered as the first admin', (3) implement automatic navigation to '/admin/dashboard' after a 2-second delay using useNavigate from TanStack Router, and (4) ensure the success state clearly indicates first-admin status. Add React Query's useQueryClient hook import and TanStack Router's useNavigate hook. Update the success toast notification to reflect first-admin registration status."
        }
      ]
    }
  ]
}