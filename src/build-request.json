{
  "kind": "build_request",
  "title": "Implement Result Page with Score Display and Question Review",
  "projectName": "Concept Delta",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-46",
      "text": "Update the ResultPage.tsx component to accept attemptId from URL parameters and fetch the complete test attempt data including testId, userId, section1Score, section2Score, section1Answers, section2Answers, section1StartTime, section1SubmittedAt, section2StartTime, and section2SubmittedAt using the useTestAttemptById hook",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-start-step-4"
        ],
        "quotes": [
          "start step 4"
        ]
      },
      "acceptanceCriteria": [
        "ResultPage component extracts attemptId from URL parameters",
        "Component uses useTestAttemptById hook to fetch test attempt data",
        "Loading state is displayed while fetching attempt data",
        "Error state is shown if attempt data cannot be fetched"
      ]
    },
    {
      "id": "REQ-47",
      "text": "Display the overall test score summary in ResultPage.tsx showing total score (section1Score + section2Score), individual section scores (Section 1: X marks, Section 2: Y marks), total time taken calculated from section start times and submission timestamps, and a performance indicator (e.g., 'Excellent', 'Good', 'Needs Improvement') based on percentage score",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-start-step-4"
        ],
        "quotes": [
          "start step 4"
        ]
      },
      "acceptanceCriteria": [
        "Overall score displays sum of section1Score and section2Score",
        "Section 1 score is displayed separately",
        "Section 2 score is displayed separately",
        "Total time taken is calculated and displayed in readable format (e.g., '2h 45m')",
        "Performance indicator is shown based on score percentage"
      ]
    },
    {
      "id": "REQ-48",
      "text": "Fetch the full test details including assigned questions for both sections using the useFullSyllabusTestById hook in ResultPage.tsx, and display statistics showing total questions attempted, correct answers, incorrect answers, and unanswered questions for each section separately",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-start-step-4"
        ],
        "quotes": [
          "start step 4"
        ]
      },
      "acceptanceCriteria": [
        "Test details with assigned questions are fetched using useFullSyllabusTestById hook",
        "Section 1 statistics display: total questions, attempted, correct, incorrect, unanswered",
        "Section 2 statistics display: total questions, attempted, correct, incorrect, unanswered",
        "Statistics are calculated by comparing submitted answers against correct answers"
      ]
    },
    {
      "id": "REQ-49",
      "text": "Implement a question review section in ResultPage.tsx that displays all questions from both sections with question text, question image (if present), all four options with their text and images, the user's selected answer highlighted, the correct answer indicated, and whether the user's answer was correct or incorrect using visual indicators (e.g., green checkmark for correct, red cross for incorrect)",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-start-step-4"
        ],
        "quotes": [
          "start step 4"
        ]
      },
      "acceptanceCriteria": [
        "All questions from Section 1 and Section 2 are displayed in order",
        "Question text is shown if present",
        "Question image is rendered if present",
        "All four options are displayed with their text and images",
        "User's selected answer is visually highlighted",
        "Correct answer is clearly indicated",
        "Correct/incorrect status is shown with visual indicators (green for correct, red for incorrect)",
        "Unanswered questions are marked distinctly"
      ]
    },
    {
      "id": "REQ-50",
      "text": "Display the explanation text for each question in the review section of ResultPage.tsx, shown below the options, so students can understand the reasoning behind the correct answer",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-start-step-4"
        ],
        "quotes": [
          "start step 4"
        ]
      },
      "acceptanceCriteria": [
        "Explanation text is displayed below each question's options",
        "Explanation is visible for all questions regardless of whether user answered correctly or incorrectly",
        "Explanation text is formatted for readability"
      ]
    },
    {
      "id": "REQ-51",
      "text": "Add a 'Back to Dashboard' button in ResultPage.tsx that navigates to the StudentDashboard when clicked",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-start-step-4"
        ],
        "quotes": [
          "start step 4"
        ]
      },
      "acceptanceCriteria": [
        "Button labeled 'Back to Dashboard' is displayed on the result page",
        "Clicking the button navigates to /student/dashboard route",
        "Button is styled consistently with the application's design"
      ]
    },
    {
      "id": "REQ-52",
      "text": "Add a 'View Leaderboard' button in ResultPage.tsx that navigates to the Leaderboard page with the testId as a URL parameter when clicked",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-start-step-4"
        ],
        "quotes": [
          "start step 4"
        ]
      },
      "acceptanceCriteria": [
        "Button labeled 'View Leaderboard' is displayed on the result page",
        "Clicking the button navigates to /leaderboard route with testId parameter",
        "Button is styled consistently with the application's design"
      ]
    }
  ],
  "constraints": [
    "Do not modify the existing useTestAttemptById and useFullSyllabusTestById hooks - use them as-is",
    "Maintain consistent styling with the existing Concept Delta navy blue theme",
    "Ensure the result page is responsive and works on mobile devices",
    "Do not change the backend scoring logic - only display the scores calculated by the backend"
  ],
  "nonGoals": [
    "PDF export functionality (will be added in a later step)",
    "Social sharing to WhatsApp/Telegram (will be added in a later step)",
    "Leaderboard implementation (separate requirement)",
    "Detailed analytics or performance graphs",
    "Ability to retake the test from the result page"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}